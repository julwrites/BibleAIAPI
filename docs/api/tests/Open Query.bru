meta {
  name: Single Query
  type: http
  seq: 1
}

post {
  url: {{baseUrl}}/query
  body: json
  auth: inherit
}

headers {
  X-API-Key: {{apiKey}}
  Content-Type: application/json
}

body:json {
  {
      "query": {
          "prompt": "How many people did Jesus feed at the wedding of Cana?"
      },
      "context": {
          "user": {
              "version": "ESV"
          }
      }
  }
}

tests {
  test("should return 200 OK", function() {
    expect(res.getStatus()).to.equal(200);
  });
  
  test("should return non-empty response", function() {
    const data = res.getBody();
    expect(data.text).to.be.a("string");
    expect(data.text.length).to.be.greaterThan(10);
  });
}

